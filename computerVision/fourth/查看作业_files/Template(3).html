
<!-- saved from url=(0092)http://carl.seu.edu.cn/student/Question_Bank_Management/Add_Question_CN.aspx?qno=435&hno=127 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!--<base>--><base href="."><link rel="stylesheet" type="text/css" href="./Load(15).ashx" isprelink="true"><link id="editor_toggleborderid" rel="stylesheet" type="text/css" href="./Load(16).ashx"></head><body contenteditable="true" style="margin: 0px; padding: 3px;"><div>（1）需要 8MB = 2^(3+20) = 2^23 Byte, 故 从 [32-11]第一位为1 的是 23位，硬件上需要将</div><div>22 - 11位置 0 ，同时还需要扩展ROM访问允许，需要将 0 位置 1</div><div>&nbsp;</div><div>（2） .CODE</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; MOV DX, 0CF8H&nbsp; &nbsp; &nbsp; &nbsp; ;配置地址端口寄存器</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; MOV EAX,&nbsp; &nbsp;800283C1H&nbsp; ;&nbsp; 访问配置空间，总线号为2， 设备号为16 ，功能号为3 寄存器号为 30H</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;OUT DX, EAX ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;写</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MOV DX , 0CFCH&nbsp; &nbsp; &nbsp; &nbsp;;数据端口寄存器地址</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;MOV EAX , 0FFFFFFFFH&nbsp; &nbsp; ;写全 1</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;OUT DX , EAX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; 写全一 到 扩展ROM寄存器</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;IN EAX, DX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; 读寄存器内容,获得其需要的ROM存储空间的大小</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div> </body></html>